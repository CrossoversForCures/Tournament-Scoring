<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basketball Tournament Scores</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1>Basketball Tournament Scores</h1>
    <div class="container">
        <!-- Example of a game card -->
        <div class="card">
            <button class="edit-button" onclick="openModal('Court A', 1)">Edit</button>
            <div class="court">Court A</div>
            <div class="team-container">
                <div class="team">
                    <div class="team-name">Team 1</div>
                    <div class="score" id="score1">50</div>
                </div>
                <div class="team">
                    <div class="team-name">Team 2</div>
                    <div class="score" id="score2">100</div>
                </div>
            </div>
        </div>

        <!-- Add more cards as needed -->
        <div class="card">
            <button class="edit-button" onclick="openModal('Court B', 2)">Edit</button>
            <div class="court">Court B</div>
            <div class="team-container">
                <div class="team">
                    <div class="team-name">Team 1</div>
                    <div class="score" id="score3">50</div>
                </div>
                <div class="team">
                    <div class="team-name">Team 2</div>
                    <div class="score" id="score4">100</div>
                </div>
            </div>
        </div>

        <div class="card">
            <button class="edit-button" onclick="openModal('Court C', 3)">Edit</button>
            <div class="court">Court C</div>
            <div class="team-container">
                <div class="team">
                    <div class="team-name">Team 1</div>
                    <div class="score" id="score5">50</div>
                </div>
                <div class="team">
                    <div class="team-name">Team 2</div>
                    <div class="score" id="score6">100</div>
                </div>
            </div>
        </div>
    </div>

    <!-- The Modal -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>Edit Scores</h2>
            <form id="editForm">
                <label for="teamAScore">Team A Score:</label>
                <input type="number" id="teamAScore" name="teamAScore" required>
                <label for="teamBScore">Team B Score:</label>
                <input type="number" id="teamBScore" name="teamBScore" required>
                <input type="hidden" id="courtId">
                <button type="submit">Save</button>
            </form>
        </div>
    </div>

    <script>
        function openModal(court, id) {
            document.getElementById('courtId').value = id;
            document.getElementById('teamAScore').value = 0; // Reset Team A score to 0
            document.getElementById('teamBScore').value = 0; // Reset Team B score to 0
            document.getElementById('myModal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('myModal').style.display = 'none';
        }

        document.getElementById('editForm').onsubmit = function(event) {
            event.preventDefault();
            const courtId = document.getElementById('courtId').value;
            const teamAScore = document.getElementById('teamAScore').value;
            const teamBScore = document.getElementById('teamBScore').value;
            document.getElementById('score' + (courtId * 2 - 1)).innerText = teamAScore;
            document.getElementById('score' + (courtId * 2)).innerText = teamBScore;
            closeModal();
        }

        window.onclick = function(event) {
            const modal = document.getElementById('myModal');
            if (event.target == modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>